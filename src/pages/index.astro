---
import directus from "../../lib/directus";
import type { Page } from "../../lib/directus";
import { readItems } from "@directus/sdk";

import Layout from "../layouts/Layout.astro";
import Footer from "../components/Footer.astro";
import Navigation from "../components/Navigation.astro";
import "../styles/index.scss";

let indexPage: Page;
try {
  indexPage = await directus
    .request(
      readItems("pages", {
        filter: {
          permalink: { _eq: "/" },
        },
      })
    )
    .then((res: Page[]) => res[0])
    .catch(() => ({}) as Page);
} catch (error) {
  console.log(error);
}
---

<Layout>
  <Navigation />

  <!-- Hero Section -->
  <section class="hero-image min-h-[80vh] flex items-center">
    <div class="container mx-auto px-4 sm:px-6">
      <div
        class="max-w-lg bg-white bg-opacity-80 p-6 rounded-lg backdrop-blur-sm"
      >
        <h1
          class="text-3xl sm:text-4xl md:text-5xl font-bold text-gray-800 mb-4 heading-font"
        >
          Sweet Dreams
        </h1>
        <p class="text-base sm:text-lg text-gray-700 mb-6">
          Khám phá bộ sưu tập đồ ngủ cực kỳ mềm mại với thiết kế trẻ trung, hoàn
          hảo cho những đêm thư giãn.
        </p>
        <a
          href="#product"
          class="bg-pink-300 hover:bg-pink-400 text-white px-6 py-3 rounded-full font-medium transition duration-300 inline-block touch-target"
          >Mua Sắm</a
        >
      </div>
    </div>
  </section>

  <!-- Featured Products -->
  <section
    id="product"
    class="bg-white"
  >
    <div class="container mx-auto px-4 sm:px-6 py-12 sm:py-16">
      <div class="text-center mb-8 sm:mb-12 mt-8">
        <h2
          class="text-2xl sm:text-3xl font-bold text-gray-800 mb-2 heading-font"
        >
          New Arrivals
        </h2>
        <p class="text-gray-600 max-w-2xl mx-auto text-sm sm:text-base">
          Khám phá những sáng tạo ấm cúng mới nhất, được thiết kế để giúp đêm
          của bạn thoải mái hơn
        </p>
      </div>

      <div
        class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6"
      >
        <!-- Product 1 -->
        <div
          class="product-card bg-white rounded-lg overflow-hidden shadow-md transition duration-300"
        >
          <div class="responsive-img-container">
            <img
              src="website_image/4.png"
              alt="Baby Tee Pink"
            />
          </div>
          <div class="p-4">
            <h3 class="text-lg font-semibold text-gray-800 mb-1">
              <a href="pink-babytee">Baby Tee Hồng</a>
            </h3>
            <p class="text-pink-300 font-medium mb-3">199.000 VND</p>
            <a
              href="pink-babytee"
              class="text-sm text-gray-600 hover:text-pink-300 transition touch-target"
              >Xem chi tiết</a
            >
          </div>
        </div>

        <!-- Product 2 -->
        <div
          class="product-card bg-white rounded-lg overflow-hidden shadow-md transition duration-300"
        >
          <div class="responsive-img-container">
            <img
              src="website_image/27.png"
              alt="Pjyama cổ tròn"
            />
          </div>
          <div class="p-4">
            <h3 class="text-lg font-semibold text-gray-800 mb-1">
              Pjyama cổ tròn
            </h3>
            <p class="text-pink-300 font-medium mb-3">289.000 VND</p>
            <a
              href="#"
              class="text-sm text-gray-600 hover:text-pink-300 transition touch-target"
              >Xem chi tiết</a
            >
          </div>
        </div>

        <!-- Product 3 -->
        <div
          class="product-card bg-white rounded-lg overflow-hidden shadow-md transition duration-300"
        >
          <div class="responsive-img-container">
            <img
              src="website_image/32.png"
              alt="Pjyama cổ tròn nơ"
            />
          </div>
          <div class="p-4">
            <h3 class="text-lg font-semibold text-gray-800 mb-1">
              Pjyama cổ tròn nơ
            </h3>
            <p class="text-pink-300 font-medium mb-3">299.000 VND</p>
            <a
              href="#"
              class="text-sm text-gray-600 hover:text-pink-300 transition touch-target"
              >Xem chi tiết</a
            >
          </div>
        </div>
      </div>

      <div class="text-center mt-8 sm:mt-12">
        <a
          href="#"
          class="border-2 border-pink-300 text-pink-300 hover:bg-pink-300 hover:text-white px-6 py-3 rounded-full font-medium transition duration-300 inline-block touch-target"
          >Tất cả sản phẩm</a
        >
      </div>
    </div>
  </section>

  <!-- Why Choose Us -->
  <section class="py-12 sm:py-16 bg-white">
    <div class="container mx-auto px-4 sm:px-6">
      <div class="text-center mb-8 sm:mb-12">
        <h2
          class="text-2xl sm:text-3xl font-bold text-gray-800 mb-2 heading-font"
        >
          Tai sao bạn chọn mua đồ tại Hug A Little
        </h2>
        <p class="text-gray-600 max-w-2xl mx-auto text-sm sm:text-base">
          Chúng tớ cam kết mang đến cho bạn sự cân bằng hoàn hảo giữa sự thoải
          mái và dễ thương
        </p>
      </div>

      <div class="grid grid-cols-1 sm:grid-cols-3 gap-6 sm:gap-8">
        <!-- Benefit 1 -->
        <div class="text-center px-4">
          <div
            class="bg-pink-100 w-14 h-14 sm:w-16 sm:h-16 rounded-full flex items-center justify-center mx-auto mb-4"
          >
            <i class="fas fa-cloud text-pink-300 text-xl sm:text-2xl"></i>
          </div>
          <h3 class="text-lg sm:text-xl font-semibold text-gray-800 mb-2">
            Vật liệu siêu mềm
          </h3>
          <p class="text-gray-600 text-sm sm:text-base">
            Tận hưởng chất vải mềm mại tuyệt vời mang đến cảm giác như được ôm
            nhẹ nhàng suốt đêm dài.
          </p>
        </div>

        <!-- Benefit 2 -->
        <div class="text-center px-4">
          <div
            class="bg-pink-100 w-14 h-14 sm:w-16 sm:h-16 rounded-full flex items-center justify-center mx-auto mb-4"
          >
            <i class="fas fa-tag text-pink-300 text-xl sm:text-2xl"></i>
          </div>
          <h3 class="text-lg sm:text-xl font-semibold text-gray-800 mb-2">
            Giá cả phải chăng
          </h3>
          <p class="text-gray-600 text-sm sm:text-base">
            Sự thoải mái dễ chịu, thân thiện với ví tiền của bạn mà không ảnh
            hưởng đến chất lượng.
          </p>
        </div>

        <!-- Benefit 3 -->
        <div class="text-center px-4">
          <div
            class="bg-pink-100 w-14 h-14 sm:w-16 sm:h-16 rounded-full flex items-center justify-center mx-auto mb-4"
          >
            <i class="fas fa-palette text-pink-300 text-xl sm:text-2xl"></i>
          </div>
          <h3 class="text-lg sm:text-xl font-semibold text-gray-800 mb-2">
            Thiết kế theo chủ đề độc đáo
          </h3>
          <p class="text-gray-600 text-sm sm:text-base">
            Những mẫu mã và bộ sưu tập độc quyền mà bạn sẽ yêu thích, được thiết
            kế bằng cả tình yêu.
          </p>
        </div>
      </div>
    </div>
  </section>

  <!-- Material Spotlight -->
  <section class="py-12 sm:py-16 bg-pink-50">
    <div class="container mx-auto px-4 sm:px-6">
      <div class="flex flex-col md:flex-row items-center">
        <div class="md:w-1/2 mb-8 md:mb-0 md:pr-8">
          <div class="responsive-img-container">
            <img
              src="website_image/material.jpg"
              alt="Premium Materials"
            />
          </div>
        </div>
        <div class="md:w-1/2">
          <h2
            class="text-2xl sm:text-3xl font-bold text-gray-800 mb-4 heading-font"
          >
            Được chế tạo để tạo sự thoải mái
          </h2>
          <p class="text-gray-700 mb-4 sm:mb-6 text-sm sm:text-base">
            Bộ đồ ngủ của chúng tôi được làm từ hỗn hợp cotton cao cấp, thoáng
            khí, đảm bảo sự tiếp xúc nhẹ nhàng với làn da của bạn suốt đêm. Mỗi
            loại vải được lựa chọn cẩn thận vì độ mềm mại, độ bền và khả năng
            giữ nhiệt độ hoàn hảo.
          </p>
          <p class="text-gray-700 mb-6 text-sm sm:text-base">
            Chúng tôi tin vào đồ ngủ đẹp được làm cẩn thận. Chất lượng và sự
            thoải mái là trọng tâm trong mọi thứ chúng tôi tạo ra.
          </p>
        </div>
      </div>
    </div>
  </section>

  <!-- Newsletter -->
  <section class="py-12 sm:py-16 bg-white">
    <div class="container mx-auto px-4 sm:px-6 max-w-4xl text-center">
      <h2
        class="text-2xl sm:text-3xl font-bold text-gray-800 mb-2 heading-font"
      >
        Hãy luôn ấm áp và dễ thương nhé!
      </h2>
      <p class="text-gray-600 mb-6 sm:mb-8 text-sm sm:text-base">
        Theo dõi chúng tớ trên các mạng xã hội để nhận thông tin cập nhật độc
        quyền, ưu đãi hấp dẫn và thông báo về hàng mới.
      </p>
      <div class="flex flex-col sm:flex-row justify-center max-w-md mx-auto">
        <input
          type="email"
          placeholder="Địa chỉ email của bạn"
          class="px-4 py-3 rounded-full sm:rounded-r-none border border-gray-300 focus:outline-none focus:ring-2 focus:ring-pink-300 focus:border-transparent mb-2 sm:mb-0 flex-grow text-sm sm:text-base"
        />
        <button
          class="bg-pink-300 hover:bg-pink-400 text-white px-6 py-3 rounded-full sm:rounded-l-none font-medium transition duration-300 touch-target"
          >Nhận giảm giá 10%</button
        >
      </div>
    </div>
  </section>

  <!-- Shop Now CTA -->
  <section class="py-12 sm:py-16 bg-pink-100">
    <div class="container mx-auto px-4 sm:px-6 text-center">
      <h2
        class="text-2xl sm:text-3xl font-bold text-gray-800 mb-4 heading-font"
      >
        Cậu đã sẵn sàng mua sắm chưa?
      </h2>
      <p
        class="text-gray-700 mb-6 sm:mb-8 max-w-2xl mx-auto text-sm sm:text-base"
      >
        Hãy tìm cho mình bộ đồ ngủ hoàn hảo và trải nghiệm sự khác biệt của Hug
        A Litlle
      </p>
      <a
        href="#"
        class="bg-pink-300 hover:bg-pink-400 text-white px-6 sm:px-8 py-3 rounded-full font-medium transition duration-300 inline-block touch-target"
        >Để chúng tớ dẫn cậu đi một vòng</a
      >
    </div>
  </section>

  <Footer />

  <script>
    // Mobile menu toggle
    document.addEventListener("DOMContentLoaded", function () {
      const mobileMenuButton = document.getElementById("mobile-menu-button");
      const mobileMenu = document.getElementById("mobile-menu");

      mobileMenuButton.addEventListener("click", function () {
        mobileMenu.classList.toggle("active");
      });

      // Close mobile menu when clicking outside
      document.addEventListener("click", function (event) {
        if (
          !mobileMenu.contains(event.target) &&
          event.target !== mobileMenuButton
        ) {
          mobileMenu.classList.remove("active");
        }
      });

      // Smooth scroll for anchor links
      document.querySelectorAll('a[href^="#"]').forEach((anchor) => {
        anchor.addEventListener("click", function (e) {
          if (this.getAttribute("href") !== "#") {
            e.preventDefault();
            document.querySelector(this.getAttribute("href")).scrollIntoView({
              behavior: "smooth",
            });
          }
        });
      });

      // Optimize image loading
      if ("loading" in HTMLImageElement.prototype) {
        // Native lazy loading is supported
        const images = document.querySelectorAll('img[loading="lazy"]');
        images.forEach((img) => {
          img.src = img.dataset.src;
        });
      } else {
        // Fallback for browsers without native lazy loading
        const lazyLoadObserver = new IntersectionObserver((entries) => {
          entries.forEach((entry) => {
            if (entry.isIntersecting) {
              const img = entry.target;
              img.src = img.dataset.src;
              lazyLoadObserver.unobserve(img);
            }
          });
        });

        document.querySelectorAll('img[loading="lazy"]').forEach((img) => {
          lazyLoadObserver.observe(img);
        });
      }
    });
  </script>
</Layout>
